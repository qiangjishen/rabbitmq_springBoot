# 配置端口号
server:
  port: 8087
# 配置Dubbo
dubbo:
  application:
    name: dubbo-springboot-demo-provider
    register-mode: instance
    #metadata-type: local # 元数据存放在provider 这边
    #metadata-service-port: 20889
    #metadata-service-protocol: dubbo
  protocol:
    name: tri
    port: -1
    #serialization: protobuf
  provider:
    loadbalance: roundrobin
    cluster: failover
    retries: 5
  registries:
    shanghai:
      address: nacos://192.168.81.133:8848
      protocol: zookeeper
      parameters: # 扩展参数
        namespace: 748dcaf9-492c-47f9-a4a8-972cccb5f579 # 指定命名空间
        register-consumer-url: false # 是否注册消费者
      use-as-metadata-center: false  # 作为元数据中心
      use-as-config-center: false  # 作为配置中心,会有服务信息上传到配置中心，似乎默认是true
    beijing:
      address: nacos://192.168.81.133:8848
      protocol: zookeeper
      parameters: # 扩展参数
        namespace: 748dcaf9-492c-47f9-a4a8-972cccb5f579 # 指定命名空间
        register-consumer-url: false # 是否注册消费者
      use-as-metadata-center: false  # 作为元数据中心
      use-as-config-center: false  # 作为配置中心,会有服务信息上传到配置中心，似乎默认是true
  #registry:
  #  id: zk-1 # 如果多个注册中心，@DubboService(registry="nacos-1") 指定服务发现的注册中心
  #  address: zookeeper://192.168.81.133:2181
  #  parameters: # 扩展参数
  #    namespace: 748dcaf9-492c-47f9-a4a8-972cccb5f579 # 指定命名空间
  #    register-consumer-url: false # 是否注册消费者
  #  use-as-metadata-center: false  # 作为元数据中心
  #  use-as-config-center: false  # 作为配置中心,会有服务信息上传到配置中心，似乎默认是true




spring:
  kafka:
    bootstrap-servers: 192.168.81.133:9092
    producer:
      # 消息重发的次数。 配置事务的话：如果用户显式地指定了 retries 参数，那么这个参数的值必须大于0
      #retries: 1
      #一个批次可以使用的内存大小
      batch-size: 16384
      # 设置生产者内存缓冲区的大小。
      buffer-memory: 33554432
      # 键的序列化方式
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      # 值的序列化方式
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
      #配置事务的话：如果用户显式地指定了 acks 参数，那么这个参数的值必须-1 all
      #acks: all
      #事务id
      transaction-id-prefix: cnnic-tran
      retries: 3
      acks: all
      properties:
        # 批量发送，延迟为1毫秒，启用该功能能有效减少生产者发送消息次数，从而提高并发量
        linger.ms: 1
        # 对发送的数据进行压缩 支持压缩类型：none、gzip、snappy、lz4 和 zstd。
        #partitioner.class: cn.cnnic.data.center.util.CustomizePartitioner
      #开启压缩
      compression-type: snappy
